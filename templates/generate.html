{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h1>Data Analysis and Visualization</h1>


    <!-- 上传数据表单 -->
    <form method="POST" enctype="multipart/form-data" class="form-style">
        <label for="file">Choose a CSV file:</label>
        <input type="file" name="file" required><br>

        <button type="submit" class="button">Generate Analysis</button>
    </form>


    <!-- 图表展示 -->
    {% if charts %}
    <div class="charts-section">
        <h2>Generated Charts</h2>

        <!-- 相关性热图 -->
        <div class="chart">
            <h3>Correlation Heatmap</h3>
            <img src="{{ charts.heatmap }}" alt="Correlation Heatmap">
        </div>

        <!-- 各列分布图 -->
        <div class="chart">
            <h3>Distributions</h3>
            {% for dist in charts.distributions %}
            <img src="{{ dist }}" alt="Distribution Chart">
            {% endfor %}
        </div>

        <!-- 箱线图 -->
        <div class="chart">
            <h3>Boxplot</h3>
            <img src="{{ charts.boxplot }}" alt="Boxplot">
        </div>

        <!-- 散点图矩阵 -->
        <div class="chart">
            <h3>Scatter Matrix</h3>
            <img src="{{ charts.scatter_matrix }}" alt="Scatter Matrix">
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}
